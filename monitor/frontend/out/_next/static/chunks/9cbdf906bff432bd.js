(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70869,e=>{"use strict";var t=e.i(43476),r=e.i(42696);function n(){let{runs:e,selectedRunId:n,selectRun:a,evalPoints:i,selectedEvalEpoch:l,selectEvalEpoch:o,checkpointsByRun:s}=(0,r.useRunContext)();return 0===e.length?null:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("select",{value:n??"",onChange:e=>a(e.target.value||null),className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500",children:e.map(e=>{var r;let n,a=s[e.run_id]?.length??0;return(0,t.jsxs)("option",{value:e.run_id,children:[(n=(r=e.run_id).match(/^(\d{4})(\d{2})(\d{2})_(\d{2})(\d{2})(\d{2})$/))?new Date(Date.UTC(parseInt(n[1]),parseInt(n[2])-1,parseInt(n[3]),parseInt(n[4]),parseInt(n[5]),parseInt(n[6]))).toLocaleString("ko-KR",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Seoul"}):r," — ",e.num_eval_points," evals",a>0?`, ${a} ckpts`:""]},e.run_id)})}),i.length>0&&(0,t.jsx)("select",{value:i.find(e=>e.epoch===l)?.step??"",onChange:e=>{let t=Number(e.target.value),r=i.find(e=>(e.step??e.epoch)===t);r&&o(r.epoch)},className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500",children:i.map(e=>(0,t.jsxs)("option",{value:e.step??e.epoch,children:["Epoch ",e.epoch,", Step ",e.step??0]},`${e.epoch}-${e.step}`))})]})}e.s(["default",()=>n])},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return s},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function i(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function o(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,l(e));else t.set(r,l(n));return t}function s(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return o},formatWithValidation:function(){return c},urlObjectKeys:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(90809)._(e.r(98183)),l=/https?|ftp|gopher|file/;function o(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",o=e.hash||"",s=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String(i.urlQueryToSearchParams(s)));let u=e.search||s&&`?${s}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||l.test(n))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),o&&"#"!==o[0]&&(o="#"+o),u&&"?"!==u[0]&&(u="?"+u),a=a.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${n}${c}${a}${u}${o}`}let s=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return o(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(71645);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=i(e,n)),t&&(a.current=i(t,n))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return x},NormalizeError:function(){return v},PageNotFoundError:function(){return b},SP:function(){return h},ST:function(){return g},WEB_VITALS:function(){return i},execOnce:function(){return l},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return s},isResSent:function(){return p},loadGetInitialProps:function(){return f},normalizeRepeatedSlashes:function(){return m},stringifyError:function(){return N}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let o=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,s=e=>o.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function p(e){return e.finished||e.headersSent}function m(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function f(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await f(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&p(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let h="u">typeof performance,g=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class v extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class x extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function N(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let n=e.r(18967),a=e.r(52817);function i(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return y},useLinkStatus:function(){return b}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(90809),l=e.r(43476),o=i._(e.r(71645)),s=e.r(95057),c=e.r(8372),u=e.r(18581),d=e.r(18967),p=e.r(5550);e.r(33525);let m=e.r(91949),f=e.r(73668),h=e.r(9396);function g(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}function y(t){var r;let n,a,i,[s,y]=(0,o.useOptimistic)(m.IDLE_LINK_STATUS),b=(0,o.useRef)(null),{href:x,as:j,children:N,prefetch:P=null,passHref:O,replace:w,shallow:E,scroll:S,onClick:k,onMouseEnter:A,onTouchStart:I,legacyBehavior:C=!1,onNavigate:_,ref:D,unstable_dynamicOnHover:L,...T}=t;n=N,C&&("string"==typeof n||"number"==typeof n)&&(n=(0,l.jsx)("a",{children:n}));let $=o.default.useContext(c.AppRouterContext),R=!1!==P,M=!1!==P?null===(r=P)||"auto"===r?h.FetchStrategy.PPR:h.FetchStrategy.Full:h.FetchStrategy.PPR,{href:W,as:z}=o.default.useMemo(()=>{let e=g(x);return{href:e,as:j?g(j):e}},[x,j]);if(C){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=o.default.Children.only(n)}let U=C?a&&"object"==typeof a&&a.ref:D,F=o.default.useCallback(e=>(null!==$&&(b.current=(0,m.mountLinkInstance)(e,W,$,M,R,y)),()=>{b.current&&((0,m.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,m.unmountPrefetchableInstance)(e)}),[R,W,$,M,y]),B={ref:(0,u.useMergedRef)(F,U),onClick(t){C||"function"!=typeof k||k(t),C&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!$||t.defaultPrevented||function(t,r,n,a,i,l,s){if("u">typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,f.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),s){let e=!1;if(s({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);o.default.startTransition(()=>{d(n||r,i?"replace":"push",l??!0,a.current)})}}(t,W,z,b,w,S,_)},onMouseEnter(e){C||"function"!=typeof A||A(e),C&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),$&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===L)},onTouchStart:function(e){C||"function"!=typeof I||I(e),C&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),$&&R&&(0,m.onNavigationIntent)(e.currentTarget,!0===L)}};return(0,d.isAbsoluteUrl)(z)?B.href=z:C&&!O&&("a"!==a.type||"href"in a.props)||(B.href=(0,p.addBasePath)(z)),i=C?o.default.cloneElement(a,B):(0,l.jsx)("a",{...T,...B,children:n}),(0,l.jsx)(v.Provider,{value:s,children:i})}e.r(84508);let v=(0,o.createContext)(m.IDLE_LINK_STATUS),b=()=>(0,o.useContext)(v);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:o="",children:s,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...a,width:n,height:n,stroke:e,strokeWidth:l?24*Number(i)/Number(n):i,className:r("lucide",o),...!s&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(s)?s:[s]])),l=(e,a)=>{let l=(0,t.forwardRef)(({className:l,...o},s)=>(0,t.createElement)(i,{ref:s,iconNode:a,className:r(`lucide-${n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...o}));return l.displayName=n(e),l};e.s(["default",()=>l],75254)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},86031,41818,81583,e=>{"use strict";var t=e.i(71645),r=e.i(7670),n=e.i(73393),a=e.i(57999),i=e.i(94395);function l(){return(l=Object.assign.bind()).apply(null,arguments)}var o=e=>{var{cx:o,cy:s,r:c,className:u}=e,d=(0,r.clsx)("recharts-dot",u);return(0,i.isNumber)(o)&&(0,i.isNumber)(s)&&(0,i.isNumber)(c)?t.createElement("circle",l({},(0,a.svgPropertiesNoEvents)(e),(0,n.adaptEventHandlers)(e),{className:d,cx:o,cy:s,r:c})):null},s=e.i(97865),c=e.i(81977),u=e.i(43404),d=e.i(29601),p=e.i(18457),m=["points"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function g(){return(g=Object.assign.bind()).apply(null,arguments)}function y(e){var{option:n,dotProps:a,className:i}=e;if((0,t.isValidElement)(n))return(0,t.cloneElement)(n,a);if("function"==typeof n)return n(a);var l=(0,r.clsx)(i,"boolean"!=typeof n?n.className:""),s=null!=a?a:{},{points:c}=s,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(s,m);return t.createElement(o,g({},u,{className:l}))}function v(e){var{points:r,dot:n,className:a,dotClassName:i,dataKey:l,baseProps:o,needClip:m,clipPathId:f,zIndex:v=p.DefaultZIndexes.scatter}=e;if(null==r||!n&&1!==r.length)return null;var b=(0,c.isClipDot)(n),x=(0,u.svgPropertiesAndEventsFromUnknown)(n),j=r.map((e,a)=>{var s,c,u=h(h(h({r:3},o),x),{},{index:a,cx:null!=(s=e.x)?s:void 0,cy:null!=(c=e.y)?c:void 0,dataKey:l,value:e.value,payload:e.payload,points:r});return t.createElement(y,{key:"dot-".concat(a),option:n,dotProps:u,className:i})}),N={};return m&&null!=f&&(N.clipPath="url(#clipPath-".concat(b?"":"dots-").concat(f,")")),t.createElement(d.ZIndexLayer,{zIndex:v},t.createElement(s.Layer,g({className:a},N),j))}e.s(["Dots",()=>v],86031);var b=e.i(27241),x=e.i(76735),j=e.i(52734);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=e=>{var r,{point:i,childIndex:l,mainColor:c,activeDot:u,dataKey:d,clipPath:p}=e;if(!1===u||null==i.x||null==i.y)return null;var m=P(P(P({},{index:l,dataKey:d,cx:i.x,cy:i.y,r:4,fill:null!=c?c:"none",strokeWidth:2,stroke:"#fff",payload:i.payload,value:i.value}),(0,a.svgPropertiesNoEventsFromUnknown)(u)),(0,n.adaptEventHandlers)(u));return r=(0,t.isValidElement)(u)?(0,t.cloneElement)(u,m):"function"==typeof u?u(m):t.createElement(o,m),t.createElement(s.Layer,{className:"recharts-active-dot",clipPath:p},r)};function w(e){var{points:r,mainColor:n,activeDot:a,itemDataKey:l,clipPath:o,zIndex:s=p.DefaultZIndexes.activeDot}=e,c=(0,b.useAppSelector)(x.selectActiveTooltipIndex),u=(0,j.useActiveTooltipDataPoints)();if(null==r||null==u)return null;var m=r.find(e=>u.includes(e.payload));return(0,i.isNullish)(m)?null:t.createElement(d.ZIndexLayer,{zIndex:s},t.createElement(O,{point:m,childIndex:Number(c),mainColor:n,dataKey:l,activeDot:a,clipPath:o}))}function E(e){var t=(0,a.svgPropertiesNoEventsFromUnknown)(e);if(null!=t){var{r,strokeWidth:n}=t,i=Number(r),l=Number(n);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(l)||l<0)&&(l=2),{r:i,strokeWidth:l}}return{r:3,strokeWidth:2}}e.s(["ActivePoints",()=>w],41818),e.s(["getRadiusAndStrokeWidthFromDot",()=>E],81583)},75118,e=>{"use strict";var t=e.i(71645);function r(e,r){let[n,a]=(0,t.useState)(!1),[i,l]=(0,t.useState)(null),[o,s]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,p]=(0,t.useState)(null),[m,f]=(0,t.useState)(null),h=(0,t.useRef)(null),g=(0,t.useRef)(void 0),y=(0,t.useRef)(r);y.current=r;let v=(0,t.useCallback)(()=>{let t;if(h.current?.readyState!==WebSocket.OPEN){try{t=new WebSocket(e)}catch{g.current=setTimeout(v,5e3);return}h.current=t,t.onopen=()=>a(!0),t.onmessage=e=>{try{let t=JSON.parse(e.data);switch(t.type){case"system":l(t.data);break;case"training":{let e=t.data;if(y.current&&e.run_id&&e.run_id!==y.current)break;s(t=>{let r=[...t,e];return r.length>2e3?r.slice(-2e3):r});break}case"eval":{let e=t.data;if(y.current&&e.run_id&&e.run_id!==y.current)break;u(t=>[...t,e]);break}case"status":{let e=t.data;p(e);break}case"hash_analysis":f(t.data)}}catch{}},t.onclose=()=>{a(!1),g.current=setTimeout(v,3e3)},t.onerror=()=>t.close()}},[e]);return(0,t.useEffect)(()=>(v(),()=>{clearTimeout(g.current),h.current?.close()}),[v]),(0,t.useEffect)(()=>{let e=r?`?run_id=${encodeURIComponent(r)}`:"";fetch(`/api/metrics/history${e}`).then(e=>e.json()).then(e=>{e.training?.length?s(e.training):s([]),e.eval?.length?u(e.eval):u([])}).catch(()=>{}),fetch("/api/training/status").then(e=>e.json()).then(e=>p(e)).catch(()=>{})},[r]),(0,t.useEffect)(()=>{fetch("/api/metrics/hash_analysis").then(e=>e.json()).then(e=>{e.hash_analysis&&f(e.hash_analysis)}).catch(()=>{})},[]),{isConnected:n,systemData:i,trainingData:o,evalData:c,status:d,hashAnalysis:m}}e.s(["useWebSocket",()=>r])},52008,59559,e=>{"use strict";let t=(0,e.i(75254).default)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);e.s(["Layers",()=>t],52008);var r=e.i(71645),n=e.i(74080),a=e.i(88860),i=e.i(7670),l=e.i(48337),o=e.i(13659),s=e.i(73393),c=e.i(51883);function u(){return(u=Object.assign.bind()).apply(null,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var p={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function m(e){var t,{data:n,iconType:a,inactiveColor:i}=e,l=32/6,s=32/3,c=n.inactive?i:n.color,u=null!=a?a:n.type;if("none"===u)return null;if("plainline"===u)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null==(t=n.payload)?void 0:t.strokeDasharray,x1:0,y1:16,x2:32,y2:16,className:"recharts-legend-icon"});if("line"===u)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(16,"h").concat(s,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(2*s,",").concat(16,"\n            H").concat(32,"M").concat(2*s,",").concat(16,"\n            A").concat(l,",").concat(l,",0,1,1,").concat(s,",").concat(16),className:"recharts-legend-icon"});if("rect"===u)return r.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(32,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(n.legendIcon)){var p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return delete p.legendIcon,r.cloneElement(n.legendIcon,p)}return r.createElement(o.Symbols,{fill:c,cx:16,cy:16,size:32,sizeType:"diameter",type:u})}function f(e){var{payload:t,iconSize:n,layout:a,formatter:o,inactiveColor:c,iconType:d}=e,p={x:0,y:0,width:32,height:32},f={display:"horizontal"===a?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,a)=>{var g=t.formatter||o,y=(0,i.clsx)({"recharts-legend-item":!0,["legend-item-".concat(a)]:!0,inactive:t.inactive});if("none"===t.type)return null;var v=t.inactive?c:t.color,b=g?g(t.value,t,a):t.value;return r.createElement("li",u({className:y,style:f,key:"legend-item-".concat(a)},(0,s.adaptEventsOfChild)(e,t,a)),r.createElement(l.Surface,{width:n,height:n,viewBox:p,style:h,"aria-label":"".concat(b," legend icon")},r.createElement(m,{data:t,iconType:d,inactiveColor:c})),r.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b))})}var h=e=>{var t=(0,c.resolveDefaultProps)(e,p),{payload:n,layout:a,align:i}=t;return n&&n.length?r.createElement("ul",{className:"recharts-default-legend",style:{padding:0,margin:0,textAlign:"horizontal"===a?i:"left"}},r.createElement(f,u({},t,{payload:n}))):null},g=e.i(51587),y=e.i(27241),v=e.i(21307),b=e.i(35709),x=e.i(46710),j=e.i(93882),N=["contextPayload"];function P(){return(P=Object.assign.bind()).apply(null,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function E(e){return e.value}function S(e){var{contextPayload:t}=e,n=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,N),a=(0,g.getUniqPayload)(t,e.payloadUniqBy,E),i=w(w({},n),{},{payload:a});return r.isValidElement(e.content)?r.cloneElement(e.content,i):"function"==typeof e.content?r.createElement(e.content,i):r.createElement(h,i)}function k(e){var t=(0,y.useAppDispatch)();return(0,r.useEffect)(()=>{t((0,j.setLegendSettings)(e))},[t,e]),null}function A(e){var t=(0,y.useAppDispatch)();return(0,r.useEffect)(()=>(t((0,j.setLegendSize)(e)),()=>{t((0,j.setLegendSize)({width:0,height:0}))}),[t,e]),null}var I={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function C(e){var t,i=(0,c.resolveDefaultProps)(e,I),l=(0,y.useAppSelector)(v.selectLegendPayload),o=(0,a.useLegendPortal)(),s=(0,x.useMargin)(),{width:u,height:d,wrapperStyle:p,portal:m}=i,[f,h]=(0,b.useElementOffset)([l]),g=(0,x.useChartWidth)(),j=(0,x.useChartHeight)();if(null==g||null==j)return null;var N=g-((null==s?void 0:s.left)||0)-((null==s?void 0:s.right)||0),O=(t=i.layout,"vertical"===t&&null!=d?{height:d}:"horizontal"===t?{width:u||N}:null),E=m?p:w(w({position:"absolute",width:(null==O?void 0:O.width)||u||"auto",height:(null==O?void 0:O.height)||d||"auto"},function(e,t,r,n,a,i){var l,o,{layout:s,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(l="center"===c&&"vertical"===s?{left:((n||0)-i.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((a||0)-i.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),w(w({},l),o)}(p,i,s,g,j,f)),p),C=null!=m?m:o;if(null==C||null==l)return null;var _=r.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},r.createElement(k,{layout:i.layout,align:i.align,verticalAlign:i.verticalAlign,itemSorter:i.itemSorter}),!m&&r.createElement(A,{width:f.width,height:f.height}),r.createElement(S,P({},i,O,{margin:s,chartWidth:g,chartHeight:j,contextPayload:l})));return(0,n.createPortal)(_,C)}C.displayName="Legend",e.s(["Legend",()=>C],59559)},3555,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(22016),a=e.i(71689),i=e.i(52008),l=e.i(25949),o=e.i(33369),s=["axis"],c=(0,r.forwardRef)((e,t)=>r.createElement(o.CartesianChart,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:s,tooltipPayloadSearcher:l.arrayTooltipSearcher,categoricalChartProps:e,ref:t})),u=r,d=e.i(7670),p=e.i(72733),m=e.i(97865),f=e.i(69212),h=e.i(86031),g=e.i(62728),y=e.i(94395),v=e.i(79812),b=e.i(81977),x=e.i(41818),j=e.i(844),N=e.i(59798),P=e.i(61849),O=e.i(61764),w=e.i(46710),E=e.i(92860),S=e.i(91526),k=e.i(77320),A=e.i(42221),I=(e,t,r)=>(0,O.selectAxisWithScale)(e,"xAxis",(0,A.selectXAxisIdFromGraphicalItemId)(e,t),r),C=(e,t,r)=>(0,O.selectTicksOfGraphicalItem)(e,"xAxis",(0,A.selectXAxisIdFromGraphicalItemId)(e,t),r),_=(e,t,r)=>(0,O.selectAxisWithScale)(e,"yAxis",(0,A.selectYAxisIdFromGraphicalItemId)(e,t),r),D=(e,t,r)=>(0,O.selectTicksOfGraphicalItem)(e,"yAxis",(0,A.selectYAxisIdFromGraphicalItemId)(e,t),r),L=(0,P.createSelector)([w.selectChartLayout,I,_,C,D],(e,t,r,n,a)=>(0,v.isCategoricalAxis)(e,"xAxis")?(0,v.getBandSizeOfAxis)(t,n,!1):(0,v.getBandSizeOfAxis)(r,a,!1)),T=(0,P.createSelector)([O.selectUnfilteredCartesianItems,(e,t)=>t],(e,t)=>e.filter(e=>"area"===e.type).find(e=>e.id===t)),$=e=>{var t=(0,w.selectChartLayout)(e);return(0,v.isCategoricalAxis)(t,"xAxis")?"yAxis":"xAxis"},R=(0,P.createSelector)([T,(e,t,r)=>(0,O.selectStackGroups)(e,$(e),"yAxis"===$(e)?(0,A.selectYAxisIdFromGraphicalItemId)(e,t):(0,A.selectXAxisIdFromGraphicalItemId)(e,t),r)],(e,t)=>{if(null!=e&&null!=t){var r,{stackId:n}=e,a=(0,S.getStackSeriesIdentifier)(e);if(null!=n&&null!=a){var i=null==(r=t[n])?void 0:r.stackedData,l=null==i?void 0:i.find(e=>e.key===a);if(null!=l)return l.map(e=>[e[0],e[1]])}}}),M=(0,P.createSelector)([w.selectChartLayout,I,_,C,D,R,E.selectChartDataWithIndexesIfNotInPanoramaPosition3,L,T,k.selectChartBaseValue],(e,t,r,n,a,i,l,o,s,c)=>{var u,{chartData:d,dataStartIndex:p,dataEndIndex:m}=l;if(null!=s&&("horizontal"===e||"vertical"===e)&&null!=t&&null!=r&&null!=n&&null!=a&&0!==n.length&&0!==a.length&&null!=o){var{data:f}=s;if(null!=(u=f&&f.length>0?f:null==d?void 0:d.slice(p,m+1)))return function(e){var t,{areaSettings:{connectNulls:r,baseValue:n,dataKey:a},stackedData:i,layout:l,chartBaseValue:o,xAxis:s,yAxis:c,displayedData:u,dataStartIndex:d,xAxisTicks:p,yAxisTicks:m,bandSize:f}=e,h=i&&i.length,g=((e,t,r,n,a)=>{var i=null!=r?r:t;if((0,y.isNumber)(i))return i;var l="horizontal"===e?a:n,o=l.scale.domain();if("number"===l.type){var s=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return"dataMin"===i?c:"dataMax"===i||s<0?s:Math.max(Math.min(o[0],o[1]),0)}return"dataMin"===i?o[0]:"dataMax"===i?o[1]:o[0]})(l,o,n,s,c),b="horizontal"===l,x=!1,j=u.map((e,t)=>{if(h)u=i[d+t];else{var n,l,o,u,y,j=(0,v.getValueByDataKey)(e,a);Array.isArray(j)?(u=j,x=!0):u=[g,j]}var N=null!=(n=null==(l=u)?void 0:l[1])?n:null,P=null==N||h&&!r&&null==(0,v.getValueByDataKey)(e,a);return b?{x:(0,v.getCateCoordinateOfLine)({axis:s,ticks:p,bandSize:f,entry:e,index:t}),y:P?null:null!=(y=c.scale.map(N))?y:null,value:u,payload:e}:{x:P?null:null!=(o=s.scale.map(N))?o:null,y:(0,v.getCateCoordinateOfLine)({axis:c,ticks:m,bandSize:f,entry:e,index:t}),value:u,payload:e}});return t=h||x?j.map(e=>{var t,r,n=Array.isArray(e.value)?e.value[0]:null;return b?{x:e.x,y:null!=n&&null!=e.y&&null!=(r=c.scale.map(n))?r:null,payload:e.payload}:{x:null!=n&&null!=(t=s.scale.map(n))?t:null,y:e.y,payload:e.payload}}):b?c.scale.map(g):s.scale.map(g),{points:j,baseLine:null!=t?t:0,isRange:x}}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:s,stackedData:i,displayedData:u,chartBaseValue:c,bandSize:o})}}),W=e.i(75337),z=e.i(75502),U=e.i(95146),F=e.i(27241),B=e.i(40657),K=e.i(51883),G=e.i(22075),V=e.i(52734),q=e.i(15549),Z=e.i(91187),H=e.i(57999),X=e.i(66576),J=e.i(81583),Y=e.i(43404),Q=e.i(29601),ee=e.i(18457),et=e.i(20135),er=["id"],en=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ea(){return(ea=Object.assign.bind()).apply(null,arguments)}function ei(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(({}).hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],-1===t.indexOf(r)&&({}).propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){var n,a,i;n=e,a=t,i=r[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function es(e,t){return e&&"none"!==e?e:t}var ec=u.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:l,hide:o,unit:s,tooltipType:c,id:d}=e,p={dataDefinedOnItem:r,getPosition:y.noop,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:(0,v.getTooltipNameProp)(l,t),hide:o,type:c,color:es(n,i),unit:s,graphicalItemId:d}};return u.createElement(j.SetTooltipEntrySettings,{tooltipEntrySettings:p})});function eu(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:l}=n,o=(0,H.svgPropertiesNoEvents)(n);return u.createElement(h.Dots,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:o,needClip:a,clipPathId:t})}function ed(e){var{showLabels:t,children:r,points:n}=e,a=n.map(e=>{var t,r,n={x:null!=(t=e.x)?t:0,y:null!=(r=e.y)?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return eo(eo({},n),{},{value:e.value,payload:e.payload,parentViewBox:void 0,viewBox:n,fill:void 0})});return u.createElement(f.CartesianLabelListContextProvider,{value:t?a:void 0},r)}function ep(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:l,type:o,stroke:s,connectNulls:c,isRange:d}=i,{id:f}=i,h=ei(i,er),g=(0,H.svgPropertiesNoEvents)(h),y=(0,Y.svgPropertiesAndEvents)(h);return u.createElement(u.Fragment,null,(null==t?void 0:t.length)>1&&u.createElement(m.Layer,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},u.createElement(p.Curve,ea({},y,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:l,stroke:"none",className:"recharts-area-area"})),"none"!==s&&u.createElement(p.Curve,ea({},g,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:t})),"none"!==s&&d&&u.createElement(p.Curve,ea({},g,{className:"recharts-area-curve",layout:l,type:o,connectNulls:c,fill:"none",points:r}))),u.createElement(eu,{points:t,props:h,clipPathId:a}))}function em(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:l}=e,o=null==(t=i[0])?void 0:t.y,s=null==(r=i[i.length-1])?void 0:r.y;if(!(0,G.isWellBehavedNumber)(o)||!(0,G.isWellBehavedNumber)(s))return null;var c=n*Math.abs(o-s),d=Math.max(...i.map(e=>e.x||0));return((0,y.isNumber)(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(e=>e.x||0),d)),(0,y.isNumber)(d))?u.createElement("rect",{x:0,y:o<s?o:o-c,width:d+(l?parseInt("".concat(l),10):1),height:Math.floor(c)}):null}function ef(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:l}=e,o=null==(t=i[0])?void 0:t.x,s=null==(r=i[i.length-1])?void 0:r.x;if(!(0,G.isWellBehavedNumber)(o)||!(0,G.isWellBehavedNumber)(s))return null;var c=n*Math.abs(o-s),d=Math.max(...i.map(e=>e.y||0));return((0,y.isNumber)(a)?d=Math.max(a,d):a&&Array.isArray(a)&&a.length&&(d=Math.max(...a.map(e=>e.y||0),d)),(0,y.isNumber)(d))?u.createElement("rect",{x:o<s?o:o-c,y:0,width:c,height:Math.floor(d+(l?parseInt("".concat(l),10):1))}):null}function eh(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return"vertical"===r?u.createElement(em,{alpha:t,points:n,baseLine:a,strokeWidth:i}):u.createElement(ef,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function eg(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:l,baseLine:o,isAnimationActive:s,animationBegin:c,animationDuration:d,animationEasing:p,onAnimationStart:h,onAnimationEnd:g}=n,v=(0,u.useMemo)(()=>({points:l,baseLine:o}),[l,o]),b=(0,B.useAnimationId)(v,"recharts-area-"),x=(0,w.useCartesianChartLayout)(),[j,N]=(0,u.useState)(!1),P=(0,u.useCallback)(()=>{"function"==typeof g&&g(),N(!1)},[g]),O=(0,u.useCallback)(()=>{"function"==typeof h&&h(),N(!0)},[h]);if(null==x)return null;var E=a.current,S=i.current;return u.createElement(ed,{showLabels:!j,points:l},n.children,u.createElement(X.JavascriptAnimate,{animationId:b,begin:c,duration:d,isActive:s,easing:p,onAnimationEnd:P,onAnimationStart:O,key:b},e=>{if(E){var c,d=E.length/l.length,p=1===e?l:l.map((t,r)=>{var n=Math.floor(r*d);if(E[n]){var a=E[n];return eo(eo({},t),{},{x:(0,y.interpolate)(a.x,t.x,e),y:(0,y.interpolate)(a.y,t.y,e)})}return t});return c=(0,y.isNumber)(o)?(0,y.interpolate)(S,o,e):(0,y.isNullish)(o)||(0,y.isNan)(o)?(0,y.interpolate)(S,0,e):o.map((t,r)=>{var n=Math.floor(r*d);if(Array.isArray(S)&&S[n]){var a=S[n];return eo(eo({},t),{},{x:(0,y.interpolate)(a.x,t.x,e),y:(0,y.interpolate)(a.y,t.y,e)})}return t}),e>0&&(a.current=p,i.current=c),u.createElement(ep,{points:p,baseLine:c,needClip:t,clipPathId:r,props:n})}return e>0&&(a.current=l,i.current=o),u.createElement(m.Layer,null,s&&u.createElement("defs",null,u.createElement("clipPath",{id:"animationClipPath-".concat(r)},u.createElement(eh,{alpha:e,points:l,baseLine:o,layout:x,strokeWidth:n.strokeWidth}))),u.createElement(m.Layer,{clipPath:"url(#animationClipPath-".concat(r,")")},u.createElement(ep,{points:l,baseLine:o,needClip:t,clipPathId:r,props:n})))}),u.createElement(f.LabelListFromLabelProp,{label:n.label}))}function ey(e){var{needClip:t,clipPathId:r,props:n}=e,a=(0,u.useRef)(null),i=(0,u.useRef)();return u.createElement(eg,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class ev extends u.PureComponent{render(){var{hide:e,dot:t,points:r,className:n,top:a,left:i,needClip:l,xAxisId:o,yAxisId:s,width:c,height:p,id:f,baseLine:h,zIndex:g}=this.props;if(e)return null;var y=(0,d.clsx)("recharts-area",n),{r:v,strokeWidth:j}=(0,J.getRadiusAndStrokeWidthFromDot)(t),P=(0,b.isClipDot)(t),O=2*v+j,w=l?"url(#clipPath-".concat(P?"":"dots-").concat(f,")"):void 0;return u.createElement(Q.ZIndexLayer,{zIndex:g},u.createElement(m.Layer,{className:y},l&&u.createElement("defs",null,u.createElement(N.GraphicalItemClipPath,{clipPathId:f,xAxisId:o,yAxisId:s}),!P&&u.createElement("clipPath",{id:"clipPath-dots-".concat(f)},u.createElement("rect",{x:i-O/2,y:a-O/2,width:c+O,height:p+O}))),u.createElement(ey,{needClip:l,clipPathId:f,props:this.props})),u.createElement(x.ActivePoints,{points:r,mainColor:es(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}),this.props.isRange&&Array.isArray(h)&&u.createElement(x.ActivePoints,{points:h,mainColor:es(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:w}))}}var eb={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:ee.DefaultZIndexes.area};function ex(e){var t,r=(0,K.resolveDefaultProps)(e,eb),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,connectNulls:o,dot:s,fill:c,fillOpacity:d,hide:p,isAnimationActive:m,legendType:f,stroke:h,xAxisId:y,yAxisId:v}=r,b=ei(r,en),x=(0,w.useChartLayout)(),j=(0,z.useChartName)(),{needClip:P}=(0,N.useNeedsClip)(y,v),O=(0,W.useIsPanorama)(),{points:E,isRange:S,baseLine:k}=null!=(t=(0,F.useAppSelector)(t=>M(t,e.id,O)))?t:{},A=(0,V.usePlotArea)();if("horizontal"!==x&&"vertical"!==x||null==A||"AreaChart"!==j&&"ComposedChart"!==j)return null;var{height:I,width:C,x:_,y:D}=A;return E&&E.length?u.createElement(ev,ea({},b,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:l,baseLine:k,connectNulls:o,dot:s,fill:c,fillOpacity:d,height:I,hide:p,layout:x,isAnimationActive:"auto"===m?!g.Global.isSsr:m,isRange:S,legendType:f,needClip:P,points:E,stroke:h,width:C,left:_,top:D,xAxisId:y,yAxisId:v})):null}var ej=u.memo(function(e){var t=(0,K.resolveDefaultProps)(e,eb),r=(0,W.useIsPanorama)();return u.createElement(q.RegisterGraphicalItemId,{id:t.id,type:"area"},e=>u.createElement(u.Fragment,null,u.createElement(U.SetLegendPayload,{legendPayload:(e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:l}=e;return[{inactive:l,dataKey:t,type:i,color:es(n,a),value:(0,v.getTooltipNameProp)(r,t),payload:e}]})(t)}),u.createElement(ec,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),u.createElement(Z.SetCartesianGraphicalItem,{type:"area",id:e,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:(0,v.getNormalizedStackId)(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),u.createElement(ex,ea({},t,{id:e}))))},et.propsAreEqual);ej.displayName="Area";var eN=e.i(85183),eP=e.i(93230),eO=e.i(72526),ew=e.i(34239),eE=e.i(31195),eS=e.i(59559),ek=e.i(75118),eA=e.i(42696),eI=e.i(70869);let eC="live";function e_(e){return e>=.85?"text-emerald-400":e>=.7?"text-yellow-400":"text-red-400"}function eD(e){return(100*e).toFixed(1)}function eL({label:e,value:r,sub:n,color:a}){return(0,t.jsxs)("div",{className:"rounded-lg bg-gray-800/60 border border-gray-700/50 p-3",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-wider mb-1",children:e}),(0,t.jsx)("div",{className:`text-xl font-mono font-bold ${a}`,children:r}),n&&(0,t.jsx)("div",{className:"text-[10px] text-gray-500 mt-0.5",children:n})]})}function eT({weakStability:e,strongStability:r,bit:n}){let a=e.map((e,t)=>({bit:t,weak:e,strong:r[t]??0}));return(0,t.jsxs)("div",{className:"rounded-xl bg-gray-900 p-4 border border-gray-800",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-200 mb-1",children:"Per-Bit Stability Under Augmentation"}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-500 mb-3",children:["How often each bit position stays the same when the image is augmented. Higher = more robust. ",n,"-bit codes, averaged over 3 augmentations per sample."]}),(0,t.jsx)(eE.ResponsiveContainer,{width:"100%",height:200,children:(0,t.jsxs)(c,{data:a,children:[(0,t.jsx)(eO.CartesianGrid,{strokeDasharray:"3 3",stroke:"#374151"}),(0,t.jsx)(eN.XAxis,{dataKey:"bit",tick:{fontSize:9,fill:"#6b7280"},label:{value:"Bit Position",position:"insideBottom",offset:-2,style:{fontSize:10,fill:"#6b7280"}}}),(0,t.jsx)(eP.YAxis,{domain:[.4,1],tick:{fontSize:9,fill:"#6b7280"},tickFormatter:e=>`${(100*e).toFixed(0)}%`}),(0,t.jsx)(ew.Tooltip,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px",fontSize:"11px"},formatter:e=>["number"==typeof e?`${(100*e).toFixed(1)}%`:String(e??""),""]}),(0,t.jsx)(eS.Legend,{wrapperStyle:{fontSize:"10px"},iconType:"circle",iconSize:8}),(0,t.jsx)(ej,{type:"monotone",dataKey:"weak",name:"Weak Aug",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.15,strokeWidth:1.5}),(0,t.jsx)(ej,{type:"monotone",dataKey:"strong",name:"Strong Aug",stroke:"#f97316",fill:"#f97316",fillOpacity:.15,strokeWidth:1.5})]})})]})}function e$({augSamples:e,origSamples:r,origCodes:n}){return(0,t.jsxs)("div",{className:"rounded-xl bg-gray-900 p-4 border border-gray-800",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-200 mb-1",children:"Sample Augmentation Comparison"}),(0,t.jsx)("p",{className:"text-[10px] text-gray-500 mb-3",children:"Original vs. augmented images and their hash code similarity. Each sample shows original, weak augmentation, and strong augmentation side by side."}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3",children:e.map((e,a)=>{let i=r[a],l=n[a]??[],o=l.length>0?l.filter((t,r)=>t===e.weak_code[r]).length:0,s=l.length>0?l.filter((t,r)=>t===e.strong_code[r]).length:0;return(0,t.jsxs)("div",{className:"rounded-lg bg-gray-800/60 border border-gray-700/50 overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-px bg-gray-700/30",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:i?.thumbnail,alt:"Original",className:"w-full aspect-square object-cover"}),(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-[8px] text-center text-gray-300 py-0.5",children:"Original"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.weak_thumbnail,alt:"Weak aug",className:"w-full aspect-square object-cover"}),(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 bg-cyan-900/70 text-[8px] text-center text-cyan-300 py-0.5",children:"Weak"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("img",{src:e.strong_thumbnail,alt:"Strong aug",className:"w-full aspect-square object-cover"}),(0,t.jsx)("span",{className:"absolute bottom-0 left-0 right-0 bg-orange-900/70 text-[8px] text-center text-orange-300 py-0.5",children:"Strong"})]})]}),(0,t.jsxs)("div",{className:"p-2 space-y-1.5",children:[(0,t.jsx)("p",{className:"text-[10px] text-gray-400 line-clamp-2 leading-tight",title:i?.caption,children:i?.caption}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-[9px] text-cyan-400 w-10 shrink-0",children:"Weak"}),(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-cyan-500 rounded-full",style:{width:`${100*e.weak_mean_sim}%`}})}),(0,t.jsxs)("span",{className:`text-[9px] font-mono w-10 text-right ${e_(e.weak_mean_sim)}`,children:[eD(e.weak_mean_sim),"%"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-[9px] text-orange-400 w-10 shrink-0",children:"Strong"}),(0,t.jsx)("div",{className:"flex-1 h-1.5 bg-gray-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-orange-500 rounded-full",style:{width:`${100*e.strong_mean_sim}%`}})}),(0,t.jsxs)("span",{className:`text-[9px] font-mono w-10 text-right ${e_(e.strong_mean_sim)}`,children:[eD(e.strong_mean_sim),"%"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-[9px] text-gray-600",children:[(0,t.jsxs)("span",{children:["ID: ",e.image_id]}),(0,t.jsxs)("span",{children:[o,"/",l.length," |"," ",s,"/",l.length]})]})]})]},e.image_id)})})]})}function eR({augSamples:e}){if(0===e.length)return null;let r=[{label:"<60%",min:0,max:.6},{label:"60-70%",min:.6,max:.7},{label:"70-80%",min:.7,max:.8},{label:"80-90%",min:.8,max:.9},{label:"90-100%",min:.9,max:1.01}],n=r.map(t=>({...t,count:e.filter(e=>e.weak_mean_sim>=t.min&&e.weak_mean_sim<t.max).length})),a=r.map(t=>({...t,count:e.filter(e=>e.strong_mean_sim>=t.min&&e.strong_mean_sim<t.max).length}));return(0,t.jsxs)("div",{className:"rounded-xl bg-gray-900 p-4 border border-gray-800",children:[(0,t.jsx)("h2",{className:"text-sm font-semibold text-gray-200 mb-3",children:"Similarity Distribution"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[10px] text-cyan-400 uppercase tracking-wider mb-2",children:"Weak Augmentation"}),(0,t.jsx)("div",{className:"space-y-1",children:n.map(r=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[9px] text-gray-500 w-12 text-right",children:r.label}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-cyan-600/60 rounded",style:{width:`${r.count/e.length*100}%`}})}),(0,t.jsx)("span",{className:"text-[9px] text-gray-500 w-4",children:r.count})]},r.label))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-[10px] text-orange-400 uppercase tracking-wider mb-2",children:"Strong Augmentation"}),(0,t.jsx)("div",{className:"space-y-1",children:a.map(r=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[9px] text-gray-500 w-12 text-right",children:r.label}),(0,t.jsx)("div",{className:"flex-1 h-3 bg-gray-800 rounded overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-orange-600/60 rounded",style:{width:`${r.count/e.length*100}%`}})}),(0,t.jsx)("span",{className:"text-[9px] text-gray-500 w-4",children:r.count})]},r.label))})]})]})]})}function eM(){let e,{selectedRunId:l}=(0,eA.useRunContext)(),{hashAnalysis:o,isConnected:s}=(0,ek.useWebSocket)((e="https:"===window.location.protocol?"wss:":"ws:",`${e}//${window.location.host}/ws`),l),[c,u]=(0,r.useState)([]),[d,p]=(0,r.useState)(eC),[m,f]=(0,r.useState)(null),[h,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=l?`?run_id=${encodeURIComponent(l)}`:"";fetch(`/api/metrics/hash_analysis/list${e}`).then(e=>e.json()).then(e=>{e.snapshots?.length?u(e.snapshots):u([])}).catch(()=>{})},[l]),(0,r.useEffect)(()=>{o&&u(e=>e.some(e=>e.epoch===o.epoch&&e.step===o.step)?e:[...e,{id:-1,epoch:o.epoch,step:o.step,timestamp:Date.now()/1e3}])},[o]);let y=(0,r.useCallback)(async e=>{if(e!==eC&&"-1"!==e){g(!0);try{let t=await fetch(`/api/metrics/hash_analysis?id=${encodeURIComponent(e)}`),r=await t.json();r.hash_analysis&&f(r.hash_analysis)}catch{}finally{g(!1)}}},[]),v=d===eC,b=v?o:m,x=b?.augmentation;return(0,r.useEffect)(()=>{if(!v){let e=l?`?run_id=${encodeURIComponent(l)}`:"";fetch(`/api/metrics/hash_analysis/list${e}`).then(e=>e.json()).then(e=>{e.snapshots?.length&&u(e.snapshots)}).catch(()=>{})}},[v,l]),(0,t.jsx)("div",{className:"min-h-screen bg-gray-950 text-gray-100 p-4 md:p-6",children:(0,t.jsxs)("div",{className:"max-w-[1200px] mx-auto space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(n.default,{href:"/",className:"text-gray-500 hover:text-gray-300 transition-colors",children:(0,t.jsx)(a.ArrowLeft,{size:18})}),(0,t.jsx)(i.Layers,{className:"w-4 h-4 text-cyan-400"}),(0,t.jsx)("h1",{className:"text-lg font-semibold",children:"Augmentation Robustness"}),(0,t.jsx)(eI.default,{}),(0,t.jsxs)("select",{value:d,onChange:e=>{var t;p(t=e.target.value),t===eC?f(null):y(t)},className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs rounded px-2 py-1 focus:outline-none focus:border-cyan-500",children:[(0,t.jsxs)("option",{value:eC,children:["Latest (Live)",o?` — Epoch ${o.epoch}, Step ${o.step}`:""]}),[...c].reverse().map((e,r)=>(0,t.jsxs)("option",{value:-1===e.id?"-1":String(e.id),disabled:-1===e.id,children:["Epoch ",e.epoch,", Step ",e.step,0===r&&-1!==e.id?" (newest)":""]},`${e.id}-${e.epoch}-${e.step}`))]}),h&&(0,t.jsx)("span",{className:"text-xs text-gray-500 animate-pulse",children:"Loading..."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:`w-2 h-2 rounded-full ${s?"bg-emerald-400":"bg-red-400"}`}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:s?"Connected":"Disconnected"})]})]}),b?x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[(0,t.jsx)(eL,{label:"Weak Aug Similarity",value:`${eD(x.weak_mean_overall)}%`,sub:"Avg across all samples",color:e_(x.weak_mean_overall)}),(0,t.jsx)(eL,{label:"Strong Aug Similarity",value:`${eD(x.strong_mean_overall)}%`,sub:"Avg across all samples",color:e_(x.strong_mean_overall)}),(0,t.jsx)(eL,{label:"Bit Level",value:`${x.bit}-bit`,sub:`${x.n_augs} augmentations each`,color:"text-gray-200"}),(0,t.jsx)(eL,{label:"Samples",value:String(x.samples.length),sub:"Fixed validation images",color:"text-gray-200"})]}),(0,t.jsx)(eT,{weakStability:x.weak_bit_stability,strongStability:x.strong_bit_stability,bit:x.bit}),(0,t.jsx)(e$,{augSamples:x.samples,origSamples:b.samples??[],origCodes:b.sample_img_codes??[]}),(0,t.jsx)(eR,{augSamples:x.samples})]}):(0,t.jsxs)("div",{className:"rounded-xl bg-gray-900 p-8 border border-gray-800 text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"No augmentation analysis in this snapshot."}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"This feature requires the latest callback version. Augmentation analysis is computed automatically during validation."})]}):(0,t.jsxs)("div",{className:"rounded-xl bg-gray-900 p-8 border border-gray-800 text-center",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Waiting for validation epoch with augmentation analysis..."}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-2",children:"Augmentation robustness data is computed during validation by comparing original and augmented image hash codes."})]})]})})}e.s(["default",()=>eM],3555)}]);